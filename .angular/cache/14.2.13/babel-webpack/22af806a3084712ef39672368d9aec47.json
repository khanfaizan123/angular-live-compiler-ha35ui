{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input, ViewChild } from \"@angular/core\";\nimport { MatPaginator } from \"@angular/material/paginator\";\nimport { MatTableDataSource } from \"@angular/material/table\";\nlet WorkoutListComponent = class WorkoutListComponent {\n  constructor(workoutService) {\n    this.workoutService = workoutService;\n    this.displayedColumns = [\"Name\", \"Workouts\", \"Number of Workouts\", \"Total Workout Minutes\"];\n    this.workoutTypes = [\"All\", \"Running\", \"Cycling\", \"Swimming\", \"Yoga\"];\n    this.users = new MatTableDataSource([]);\n    this.filteredUsers = new MatTableDataSource([]);\n    this.selectedValue = \"All\";\n    this.groupedData = [];\n  }\n\n  ngOnInit() {\n    this.users.data = this.workoutService.getUsers();\n    this.groupedData = this.users.data.reduce((acc, obj) => {\n      const key = obj.name;\n\n      if (!acc[key]) {\n        acc[key] = {\n          id: 0,\n          name: key,\n          type: \"\",\n          minutes: 0,\n          numberofworkouts: 0\n        };\n        acc[key].id = obj.id;\n      }\n\n      acc[key].numberofworkouts = obj.workouts.length;\n      let i = 0;\n      const uniqueTypes = new Set(acc[key].type.split(\",\").filter(Boolean));\n\n      while (i < obj.workouts.length) {\n        acc[key].minutes += obj.workouts[i].minutes;\n        uniqueTypes.add(obj.workouts[i].type);\n        i++;\n      }\n\n      acc[key].type = Array.from(uniqueTypes).join(\",\");\n      return acc;\n    }, {});\n    this.filteredUsers.data = Object.values(this.groupedData);\n  }\n\n  applyFilter(event) {\n    const filterValue = event.target.value;\n    console.log(filterValue);\n    this.filteredUsers.filter = filterValue.trim().toLowerCase();\n  }\n\n  applyTypeFilter(filterValue) {\n    if (filterValue === \"All\") {\n      this.filteredUsers.data = Object.values(this.groupedData);\n    } else {\n      this.filteredUsers.data = Object.values(this.groupedData).filter(user => user.type.includes(filterValue));\n    }\n  }\n\n  ngAfterViewInit() {\n    this.filteredUsers.paginator = this.paginator;\n  }\n\n};\n\n__decorate([Input()], WorkoutListComponent.prototype, \"data\", void 0);\n\n__decorate([ViewChild(MatPaginator)], WorkoutListComponent.prototype, \"paginator\", void 0);\n\nWorkoutListComponent = __decorate([Component({\n  selector: \"app-workout-list\",\n  templateUrl: \"./workout-list.component.html\",\n  styleUrls: [\"./workout-list.component.css\"],\n  changeDetection\n})], WorkoutListComponent);\nexport { WorkoutListComponent };","map":null,"metadata":{},"sourceType":"module"}